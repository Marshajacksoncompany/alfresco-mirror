This directory contains a basic test SOLR install with one core configured to track a local Alfresco instance.

The lib directory contents has to built or copied first.
In the root directory (../../../../..) compile and copy the jars using:

ant deploy-solr

You will have to do this each time you update.



Copy 

solr-tomcat-context.xml 

to 

apache-tomcat-6.0.26\conf\Catalina\localhost\solr.xml

Edit the file and set:

1) docBase to the solr war file in this directory (or a copy)
2) solr/home environment to this directory or a copy

For each core:
archive-SpacesStore/conf
workspace-SpacesStore/conf

edit solrcore.properties to define:

 # Follow the pattern <dataDir>/localhost/workspace/SpacesStore
 data.dir.root=w:/solrData/localhost
 alfresco.url=http://localhost:8080/alfresco/service

and possibly how often you want to update

 alfresco.cron=0/15 * * * * ? *

The other defaults should be OK.


Please delete the SOLR data dir everytime you update this distribution directory as it may invalidate the state of the index :-)


See: http://wiki.apache.org/solr/SolrTomcat for more ....


e.g.


<?xml version="1.0" encoding="utf-8"?>
<Context docBase="W:/alfresco/BRANCHES/DEV/SWIFT/root/projects/solr/source/solr/instance/apache-solr-1.4.1.war" debug="0" crossContext="true">
  <Environment name="solr/home" type="java.lang.String" value="W:/alfresco/BRANCHES/DEV/SWIFT/root/projects/solr/source/solr/instance" override="true"/>
</Context>